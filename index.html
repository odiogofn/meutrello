<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gestão Trello</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
  <header>
    <h1>Gestão Trello</h1>
    <p class="lead">Criar / mover cards, membros, etiquetas e anexos</p>
  </header>

  <form id="trelloForm" class="form">
    <div class="row">
      <div class="col">
        <label for="boardSelect">Quadro (Board)</label>
        <select id="boardSelect"></select>
      </div>
      <div class="col">
        <label for="listSelect">Lista (List)</label>
        <select id="listSelect"></select>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <label for="cardSelect">Card</label>
        <select id="cardSelect">
          <option value="">Criar novo card</option>
        </select>
      </div>
      <div class="col">
        <label for="posSelect">Posição do card</label>
        <select id="posSelect">
          <option value="top">Topo</option>
          <option value="bottom">Base</option>
        </select>
      </div>
    </div>

    <div class="row full">
      <label for="cardName">Nome do card</label>
      <input id="cardName" type="text" placeholder="Título do card" />
    </div>
    <div class="row full">
      <label for="cardDesc">Descrição</label>
      <textarea id="cardDesc" placeholder="Descrição do card"></textarea>
    </div>

    <!-- Membros -->
    <div class="row full">
      <label>Membros do card</label>
      <div class="dual-listbox">
        <div class="listbox">
          <div class="listbox-title">Disponíveis</div>
          <select id="membersAvailable" multiple></select>
        </div>
        <div class="listbox-controls">
          <button type="button" id="addMember" class="small-btn">&gt;</button>
          <button type="button" id="removeMember" class="small-btn">&lt;</button>
        </div>
        <div class="listbox">
          <div class="listbox-title">Selecionados</div>
          <select id="membersSelected" multiple></select>
        </div>
      </div>
    </div>

    <!-- Etiquetas -->
    <div class="row full">
      <label>Etiquetas (Labels)</label>
      <div class="dual-listbox">
        <div class="listbox">
          <div class="listbox-title">Disponíveis</div>
          <select id="labelsAvailable" multiple></select>
        </div>
        <div class="listbox-controls">
          <button type="button" id="addLabel" class="small-btn">&gt;</button>
          <button type="button" id="removeLabel" class="small-btn">&lt;</button>
        </div>
        <div class="listbox">
          <div class="listbox-title">Selecionadas</div>
          <select id="labelsSelected" multiple></select>
        </div>
      </div>
    </div>

    <!-- Anexos -->
    <div class="row full">
      <label>Anexos</label>

      <!-- input nativo (continua valendo) -->
      <input id="attachments" type="file" multiple />

      <!-- drop/paste zone -->
      <div id="dropArea" tabindex="0" aria-label="Área de anexos">
        <div class="drop-text">
          Arraste arquivos aqui, clique para escolher, ou <b>Ctrl + V</b> para colar imagens/arquivos
          <div class="hint">Limite do Trello: até 10MB por arquivo</div>
        </div>
      </div>

      <!-- lista de anexos pendentes -->
      <div id="pendingWrap">
        <div class="pending-header">
          <strong>Anexos pendentes (serão enviados ao salvar):</strong>
          <button type="button" id="clearPending" class="secondary small">Limpar todos</button>
        </div>
        <ul id="pendingList"></ul>
      </div>

      <!-- anexos existentes do card selecionado -->
      <div id="attachmentsList"></div>
    </div>

    <div class="row full actions">
      <button type="submit" class="primary">Salvar Card</button>
      <button type="button" id="resetBtn" class="secondary">Limpar</button>
      <button type="button" id="toggleResponse" class="linkish">Mostrar/Esconder resposta API</button>
    </div>

    <pre id="response" hidden>nenhuma</pre>
  </form>

  <footer class="footer">
    <small>Teste local — não exponha chaves em produção</small>
  </footer>
</div>

<script src="script.js"></script>
</body>
</html>
